<head>
	
<html>

<body>
	<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '1697679230488576',
      xfbml      : true,
      version    : 'v2.5',
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "https://connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
     
   }(document, 'script', 'facebook-jssdk'));
function getFriendList(accessToken) {
FB.api(
    "/me/friends",
    {
     // "user_access_token":getAuthKey()
    },
    function (response) {
      if (response && !response.error) {
        console.log(response);
        
        sendNotification(response,accessToken);
      }
    }
);
}



function sendNotification(response,token){
  
  
  var allfriends=response["data"];
  var firstfriend=allfriends[0];
  var id=firstfriend["id"];
  alert(token.toString());
  FB.api(
    "/"+id+"/notifications",'post',
    {
     
      template : "what if jame lao were ezt",
      access_token : '1697679230488576|678679f02933fc798022db17a7cae208',
      user_access_token : token
    },
    function (response) {
      if (response && !response.error) 
        alert('hello');
        console.log(response);
        FB.ui({
        app_id:''1697679230488576'',
        method: 'send',
        name: "sdfds jj jjjsdj j j ",
        link: 'calvind777.github.io',
        to:id,
        description:'sdf sdf sfddsfdd s d  fsf s '

     });
    }

    );
  
}

function Login()
    {
 
        FB.login(function(response) {
           if (response.authResponse) 
           {
                console.log(FB.getAuthResponse);
 
            } else
            {
             console.log('Authorization failed.');
            }
         },{scope: "email,user_likes,user_friends"});
 
    }
    function getAuthKey(){
      FB.getLoginStatus(function(response){
        if (response.status=='connected') {
          accessToken = response.authResponse.accessToken;
          getFriendList(accessToken);
        
        }

      }

        );
    }
</script>


<div id="getlist" style="cursor:pointer;" onclick="getAuthKey ()">
send
</div>
<div id='login' style="cursor:pointer;" onclick="Login()">
login
</div>

</body>
</html>